<bat-card title="Nodes">

  <div *ngIf="infos().node">

    <div class="col-sm-12">
      <h5 class="mb-3">Info</h5>
      <hr>

      <div class="row" *ngIf="infos().node">
        <div class="col-xl-4">
          <h5 class="mb-2">Node</h5>
          <div class="row">
            <div class="col-xl-12">
              <div class="align-items-center float-left">NodeId</div>
              <div class="align-items-center float-right">{{infos().node.nodeId}}</div>
            </div>
            <div class="col-xl-12">
              <div class="align-items-center float-left">MachineId:</div>
              <div class="align-items-center float-right">{{infos().node.machineId}}</div>
            </div>
            <div class="col-xl-12">
              <div class="align-items-center float-left">Hostname:</div>
              <div class="align-items-center float-right">{{infos().node.hostname}}</div>
            </div>
            <div class="col-xl-12">
              <div class="align-items-center float-left">Arch:</div>
              <div class="align-items-center float-right">{{infos().info.arch}}</div>
            </div>
            <div class="col-xl-12">
              <div class="align-items-center float-left">Release:</div>
              <div class="align-items-center float-right">{{infos().info.release}}</div>
            </div>
            <div class="col-xl-12">
              <div class="align-items-center float-left">Started:</div>
              <div class="align-items-center float-right">{{infos().node.started | date}}</div>
            </div>
            <div class="col-xl-12">
              <div class="align-items-center float-left">Load</div>
              <div class="align-items-center float-right">
                {{infos().info.loadavg[0] | number}} {{infos().info.loadavg[1]  | number}}  {{infos().info.loadavg[2]  | number}}
              </div>
            </div>
            <div class="col-xl-12">
              <div class="align-items-center float-left">Memory</div>
              <div class="align-items-center float-right">
                {{(infos().info.memory.total - infos().info.memory.free) / 1024 / 1024 | number}}GB
              </div>
            </div>
            <div class="col-xl-12">
              <div class="align-items-center float-left">Uptime</div>
              <div class="align-items-center float-right">{{infos().info.uptime}}</div>
            </div>
          </div>
        </div>

        <div class="col-xl-4">
          <h5 class="mb-2">CPU</h5>
          <div class="row" *ngFor="let cpu of this.infos().info.cpus">
            <div class="col-xl-6">
              <div>{{cpu.model}}</div>
            </div>
            <div class="col-xl-6">
              <div class="align-items-center float-right">{{cpu.speed}}</div>
            </div>
          </div>
        </div>

        <div class="col-xl-4">
          <h5 class="mb-2">Network</h5>
          <div class="row" *ngFor="let netkey of networks()">
            <div class="col-xl-4">
              <div>{{netkey}}</div>
            </div>
            <div class="col-xl-8">
              <div *ngFor="let e of networkEntries(netkey)">{{e.family}}: {{e.address}}</div>
            </div>
          </div>
        </div>
      </div>

    </div>

    <div class="col-sm-12">
      <h5 class="mb-3 mt-3">Nodes</h5>
      <hr>
      <system-node-info [node]="infos().node"></system-node-info>
      <system-node-info [node]="node" *ngFor="let node of infos().nodes"></system-node-info>
    </div>


  </div>
</bat-card>
